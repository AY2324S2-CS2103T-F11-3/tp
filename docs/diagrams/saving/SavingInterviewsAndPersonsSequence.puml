@startuml
!include ../style.puml
skinparam ArrowFontStyle plain

box Logic LOGIC_COLOR_T1
participant ":LogicManager" as LogicManager LOGIC_COLOR
participant "m:Model" as Model MODEL_COLOR
participant ":StorageManager" as StorageManager LOGIC_COLOR
participant ":JsonAddressBookStorage" as JsonAddressBookStorage LOGIC_COLOR
participant ":JsonSerializableAddressBook" as JsonSerializableAddressBook LOGIC_COLOR
end box

[-> LogicManager: execute(command)

LogicManager -> Model : getAddressBook()
LogicManager -> StorageManager : saveAddressBook(addressBook)
activate StorageManager

StorageManager -> JsonAddressBookStorage : saveAddressBook(addressBook, filePath)
deactivate StorageManager
activate JsonAddressBookStorage

create JsonSerializableAddressBook
JsonAddressBookStorage -> JsonSerializableAddressBook
deactivate JsonAddressBookStorage
activate JsonSerializableAddressBook

JsonSerializableAddressBook --> LogicManager
deactivate JsonSerializableAddressBook

[<--LogicManager
deactivate LogicManager
@enduml
